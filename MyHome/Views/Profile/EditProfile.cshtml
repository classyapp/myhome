@model Classy.DotNet.Mvc.ViewModels.Profiles.EditProfileViewModel<MyHome.Models.ProfessionalMetadata>

@{
    ViewBag.Title = Localizer.Get("EditProfile_BrowserTitle");
}

<div class="row">
    @Html.Partial("SideBar", (User.Identity as Classy.DotNet.Security.ClassyIdentity).Profile)

    <div class="col-md-9 main">
        @using (var f = Html.Bootstrap().Begin(new Form("EditProfile").RouteValues(new { ProfileId = Model.ProfileId }).FormMethod(FormMethod.Post)))
        {
            <h4>@Localizer.Get("EditProfile_AccountDetails")</h4>
            <hr/>

            @f.FormGroup().TextBoxFor(x => x.Username).ShowValidationMessage(false).Disabled()
            @f.FormGroup().TextBoxFor(x => x.Email).ShowValidationMessage(false)
           
            <p>&nbsp;</p>
            
            if (Model.IsProfessional)
            {
                <h4>@Localizer.Get("EditProfile_BusinessDetails")</h4>
                <hr/>
                
                @f.FormGroup().TextBoxFor(x => x.CompanyName).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().DropDownListFor(x => x.Category, Localizer.GetList("professional-categories").AsSelectList()).OptionLabel(Localizer.Get("EditProfile_SelectCategory")).ShowValidationMessage(false).Label().ShowRequiredStar(false)
            }
            else 
            {
                
                <h4>@Localizer.Get("EditProfile_ContactDetails")</h4>
                <hr/>
            
                @f.FormGroup().TextBoxFor(x => x.FirstName).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.LastName).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.Street1).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.Street2).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.City).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.Country).ShowValidationMessage(false).Label().ShowRequiredStar(false)
                @f.FormGroup().TextBoxFor(x => x.PostalCode).ShowValidationMessage(false).Label().ShowRequiredStar(false)
            }

            <div>
                <p>&nbsp;</p>
                <hr/>

                @f.FormGroup().CustomControls(Html.Bootstrap().SubmitButton().Text("EditProfile_Submit").Style(ButtonStyle.Success))
            </div>
        }

    </div>
</div>
